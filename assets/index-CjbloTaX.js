import{_ as h,o as f,c as m,r as N,a as t,n as r,t as T,w as S,v as b,F as B,p as g,b as C,d as k,e as J,f as O,g as L,h as y,N as E}from"./Nav-r8UM454m.js";const V={props:["tasks"],emits:["taskEdit","taskStar","taskSwap","taskRemove"]},_=o=>(g("data-v-cec319cf"),o=o(),C(),o),A={class:"item_flex"},R={class:"left_block"},D={class:"btn_flex"},F=["onClick"],U=["onClick"],K={class:"middle_block"},M={class:"star_block"},z=["onClick"],j=_(()=>t("i",{class:"fas fa-star"},null,-1)),q=[j],G=["onClick"],H=_(()=>t("i",{class:"fas fa-star"},null,-1)),P=[H],Q=["onClick"],W=_(()=>t("i",{class:"fas fa-star"},null,-1)),X=[W],Y=["onClick"],Z=_(()=>t("i",{class:"fas fa-star"},null,-1)),x=[Z],tt=["onClick"],st=_(()=>t("i",{class:"fas fa-star"},null,-1)),at=[st],et=["onUpdate:modelValue"],ot={class:"right_block"},lt={class:"btn_flex"},nt=["onClick"],ct=["onClick"];function it(o,d,s,p,u,v){return f(!0),m(B,null,N(s.tasks,(l,n)=>(f(),m("li",{key:l.id},[t("div",A,[t("div",R,[t("div",D,[t("button",{type:"button",class:"btn_up",onClick:e=>o.$emit("taskSwap",e,n,"up")},"往上",8,F),t("button",{type:"button",class:"btn_down",onClick:e=>o.$emit("taskSwap",e,n,"down")},"往下",8,U)])]),t("div",K,[t("div",M,[t("span",{class:r(["star",{"-on":l.star>=1}]),onClick:e=>o.$emit("taskStar",e,n,1)},q,10,z),t("span",{class:r(["star",{"-on":l.star>=2}]),onClick:e=>o.$emit("taskStar",e,n,2)},P,10,G),t("span",{class:r(["star",{"-on":l.star>=3}]),onClick:e=>o.$emit("taskStar",e,n,3)},X,10,Q),t("span",{class:r(["star",{"-on":l.star>=4}]),onClick:e=>o.$emit("taskStar",e,n,4)},x,10,Y),t("span",{class:r(["star",{"-on":l.star>=5}]),onClick:e=>o.$emit("taskStar",e,n,5)},at,10,tt)]),t("p",{class:r(["para",{"-none":l.editable}])},T(l.name),3),S(t("input",{type:"text",class:r(["task_name_update",{"-none":!l.editable}]),placeholder:"更新待辦事項…","onUpdate:modelValue":e=>l.name=e},null,10,et),[[b,l.name,void 0,{trim:!0}]])]),t("div",ot,[t("div",lt,[t("button",{type:"button",class:"btn_update",onClick:e=>o.$emit("taskEdit",e,n)},"更新",8,nt),t("button",{type:"button",class:"btn_delete",onClick:e=>o.$emit("taskRemove",e,n)},"移除",8,ct)])])])]))),128)}const rt=h(V,[["render",it],["__scopeId","data-v-cec319cf"]]),dt=o=>(g("data-v-7c3d7595"),o=o(),C(),o),_t={class:"task_container"},ut=dt(()=>t("h1",{class:"title1"},"待辦事項",-1)),kt={class:"task_list_parent"},pt={__name:"TaskContainer",setup(o){const d=k(""),s=k([]),p=k(null),u=k(null);J(()=>{let c=JSON.parse(localStorage.getItem("tasks"));c&&(s.value=c)});function v(){p.value.classList.toggle("-on")}function l(){d.value!=""&&(s.value.unshift({id:Date.now(),name:d.value,star:0,editable:!1}),d.value="",localStorage.setItem("tasks",JSON.stringify(s.value)))}function n(){if(confirm("確認清空？")){for(let a=0;a<u.value.children.length;a++)u.value.children[a].classList.add("fade_out");setTimeout(()=>{s.value=[],localStorage.clear()},1e3)}}function e(c,a){s.value[a].editable?s.value[a].name==""?alert("請輸入資料"):(s.value[a].editable=!s.value[a].editable,localStorage.setItem("tasks",JSON.stringify(s.value))):s.value[a].editable=!s.value[a].editable}function $(c,a,i){s.value[a].star=i,localStorage.setItem("tasks",JSON.stringify(s.value))}function w(c,a,i){i=="up"&&a!=0&&([s.value[a-1],s.value[a]]=[s.value[a],s.value[a-1]],localStorage.setItem("tasks",JSON.stringify(s.value))),i=="down"&&a!=s.value.length-1&&([s.value[a],s.value[a+1]]=[s.value[a+1],s.value[a]],localStorage.setItem("tasks",JSON.stringify(s.value)))}function I(c,a){confirm("確認移除？")&&(c.target.closest("li").classList.add("fade_out"),setTimeout(()=>{s.value.splice(a,1),localStorage.setItem("tasks",JSON.stringify(s.value))},1e3))}return(c,a)=>(f(),m("article",_t,[t("button",{type:"button",class:"btn_empty",onClick:n},"清空"),ut,t("div",{class:"task_add_block",ref_key:"taskAddBlock",ref:p},[S(t("input",{type:"text",class:"task_name",placeholder:"輸入待辦事項…",onFocus:v,onBlur:v,"onUpdate:modelValue":a[0]||(a[0]=i=>d.value=i),onKeyup:O(l,["enter"])},null,544),[[b,d.value,void 0,{trim:!0}]]),t("button",{type:"button",class:"task_add",onClick:l},"新增")],512),t("div",kt,[t("ul",{class:"task_list",ref_key:"taskList",ref:u},[L(rt,{tasks:s.value,onTaskEdit:e,onTaskStar:$,onTaskSwap:w,onTaskRemove:I},null,8,["tasks"])],512)])]))}},vt=h(pt,[["__scopeId","data-v-7c3d7595"]]);y(E).mount("#header");y(vt).mount("#app");
